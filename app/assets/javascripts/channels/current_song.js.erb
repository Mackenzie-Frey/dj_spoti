<% Party.all.each do |party| %>
App['current_song_' + `<%=party.identifier%>`] = App.cable.subscriptions.create({channel: 'CurrentSongChannel', party: `<%=party.identifier%>`}, {

  connected: function() {
    console.log('Got here. Connected');
  },
  disconnected: function() {
    console.log('disconnected');
  },

  received: function(data) {
    console.log("Receiving with " + data.song);
    console.log(data.party);
    // song = $('#song-playing');
    // song.html(data['song']);
    $("[data-current-party='" + data.party + "']").removeClass('hidden');
   return $("[data-current-party='" + data.party + "']").html(data.song);
 },
});
<% end %>


    //
    // var song = $('#song-playing');
    // var partyId = data['party']
    // var partyId = $("[data-current-party]").data().party_identifier
    // console.log('received method here with their data:');
    // console.log(data);
    // song = $('#song-playing');
    // song.html(data['song']);
